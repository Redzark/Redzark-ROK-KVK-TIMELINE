<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1689ì„œë²„ KvK ì¼ì • ë° íƒ€ì´ë¨¸</title>
    <style>
        /* --- ê¸°ë³¸ ìŠ¤íƒ€ì¼ --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1a1a2e;
            color: #ffffff;
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        h1 { color: #ff3859; margin-bottom: 5px; font-size: 2em; }
        h2 { color: #b0b0b0; font-size: 1.2em; margin-bottom: 25px; }

        /* --- ë‹¬ë ¥ ìŠ¤íƒ€ì¼ --- */
        #calendar-container {
            background-color: #2a2a4a;
            border-radius: 10px;
            padding: 10px;
            overflow-x: auto;
            margin-bottom: 40px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
        }
        .calendar {
            width: 100%;
            min-width: 600px;
            border-collapse: collapse;
            table-layout: fixed;
        }
        .calendar th {
            background-color: #33395b;
            color: #ffcc00;
            padding: 10px 0;
            border: 1px solid #444;
        }
        .calendar td {
            height: 110px;
            border: 1px solid #444;
            padding: 5px;
            vertical-align: top;
            text-align: left;
            position: relative;
        }
        
        /* ë‚ ì§œ ìˆ«ì */
        .day-number { font-size: 1.2em; font-weight: bold; margin-bottom: 2px; display: block; }
        .sunday .day-number { color: #ff5757; }
        .saturday .day-number { color: #8af7a0; }

        /* ì˜¤ëŠ˜ ë‚ ì§œ ê°•ì¡° */
        .today {
            border: 2px solid #ffcc00 !important;
            box-shadow: inset 0 0 15px rgba(255, 204, 0, 0.1);
        }
        .today-mark {
            display: block;
            color: #ffcc00;
            font-size: 0.9em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        /* ì´ë²¤íŠ¸ ë¼ë²¨ */
        .event-label {
            font-size: 0.8em;
            display: block;
            padding: 3px;
            margin-top: 2px;
            border-radius: 3px;
            color: #fff;
            text-align: center;
        }
        .type-phase { background-color: #555; }
        .type-fixed { background-color: #007bff; }
        .type-major { background-color: #ff8c00; font-weight: bold; }

        /* --- ì¹´ìš´íŠ¸ë‹¤ìš´ ìŠ¤íƒ€ì¼ --- */
        .section-title {
            color: #ffcc00;
            font-size: 1.5em;
            margin: 40px 0 20px 0;
            border-bottom: 2px solid #33395b;
            padding-bottom: 10px;
        }
        .count-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        .count-card {
            background-color: #2a2a4a;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        .count-title { font-size: 1.3em; color: #8af7a0; font-weight: bold; margin-bottom: 10px; }
        .count-timer { font-size: 2.2em; color: #4CAF50; font-weight: bold; margin: 10px 0; }
        .count-sub { font-size: 0.9em; color: #aaa; }
        .count-cycle { font-size: 0.9em; color: #ff8c00; margin-bottom: 5px; }
        
        #loading-msg { color: #aaa; margin-top: 20px; }
    </style>
</head>
<body>

    <div class="container">
        <h1>1689ì„œë²„ ì‹ ê¸°ë¬˜ì‚° KVK íƒ€ì„ë¼ì¸</h1> 
        <h2>2025ë…„ 12ì›” KvK ì „ì²´ ì¼ì •</h2>
        
        <div id="calendar-container">
            <table class="calendar" id="calendar-table">
                <thead>
                    <tr>
                        <th style="color:#ff5757;">ì¼</th><th>ì›”</th><th>í™”</th><th>ìˆ˜</th><th>ëª©</th><th style="color:#8af7a0;">ê¸ˆ</th><th>í† </th>
                    </tr>
                </thead>
                <tbody id="calendar-body"></tbody>
            </table>
        </div>

        <div class="section-title">ğŸ•’ íí—ˆ/ì œë‹¨ ì‹¤ì‹œê°„ ì¹´ìš´íŠ¸ë‹¤ìš´</div>
        <div class="count-grid" id="timer-container"></div>
        
        <div id="loading-msg">ë¡œë”©ì¤‘... í™”ë©´ì´ ì•ˆ ëœ¨ë©´ ìƒˆë¡œê³ ì¹¨ í•´ì£¼ì„¸ìš”.</div>
    </div>

    <script>
        // [ìˆ˜ì •ëœ í•µì‹¬ í•¨ìˆ˜] ë‚ ì§œ íŒŒì‹± ì—ëŸ¬ ë°©ì§€
        function safeParseDate(str) {
            if (!str) return new Date();
            
            // ê³µë°±ì„ ê¸°ì¤€ìœ¼ë¡œ ë‚ ì§œì™€ ì‹œê°„ì„ ë‚˜ëˆ”
            var parts = str.split(' ');
            var dateStr = parts[0];
            var timeStr = parts[1] || "00:00"; // ì‹œê°„ì´ ì—†ìœ¼ë©´ 00:00ìœ¼ë¡œ ê°•ì œ ì„¤ì • (ì—ëŸ¬ í•´ê²°)

            var dateParts = dateStr.split('-');
            var timeParts = timeStr.split(':');

            // ì›”ì€ 0ë¶€í„° ì‹œì‘í•˜ë¯€ë¡œ -1
            return new Date(dateParts[0], dateParts[1] - 1, dateParts[2], timeParts[0], timeParts[1]);
        }

        // --- ë°ì´í„° ì„¤ì • ---
        var RECURRING = [
            { name: "íí—ˆ", start: "2025-12-11 00:10", interval: 40, max: 28 },
            { name: "ì œë‹¨", start: "2025-12-22 00:10", interval: 86, max: 10 }
        ];

        var CALENDAR_EVENTS = [
            { date: "2025-12-05", name: "ì²«ê±¸ìŒ", type: "type-phase" },
            { date: "2025-12-06", name: "ì›ì •êµ° ì£¼ë‘”ì§€", type: "type-fixed" },
            { date: "2025-12-07", name: "ëˆˆì—ëŠ” ëˆˆ", type: "type-phase" },
            { date: "2025-12-08", name: "ì§„ì˜ ìš”ìƒˆ", type: "type-fixed" },
            { date: "2025-12-08", name: "ìš”ì§€ì˜ ì „ìŸ", type: "type-phase" },
            { date: "2025-12-10", name: "í˜‘ë ¥", type: "type-phase" },
            { date: "2025-12-11", name: "íí—ˆ ì˜¤í”ˆ ì‹œì‘", type: "type-major" },
            { date: "2025-12-11", name: "ì§•ë²Œ", type: "type-phase" },
            { date: "2025-12-13", name: "ë³µìˆ˜", type: "type-phase" },
            { date: "2025-12-14", name: "4ê´€ë¬¸ ê°œë°©", type: "type-fixed" },
            { date: "2025-12-14", name: "ë¨¹êµ¬ë¦„", type: "type-phase" },
            { date: "2025-12-15", name: "ëŠ‘ëŒ€ì™€ ì™•", type: "type-phase" },
            { date: "2025-12-16", name: "ì‹ ì „ ê°œë°©", type: "type-fixed" },
            { date: "2025-12-17", name: "ìˆœë¡€", type: "type-phase" },
            { date: "2025-12-18", name: "5ê´€ë¬¸ ê°œë°©", type: "type-fixed" },
            { date: "2025-12-18", name: "ì „ì§„", type: "type-phase" },
            { date: "2025-12-19", name: "ì„±ì „ ê°œë°©", type: "type-fixed" },
            { date: "2025-12-19", name: "ì„±ì „ ì ë ¹", type: "type-phase" },
            { date: "2025-12-20", name: "6ê´€ë¬¸ ê°œë°©", type: "type-fixed" },
            { date: "2025-12-21", name: "ì ‘ì „ í—ˆê°€", type: "type-phase" },
            { date: "2025-12-22", name: "ì œë‹¨ ì˜¤í”ˆ ì‹œì‘", type: "type-major" },
            { date: "2025-12-22", name: "í¬ìƒì", type: "type-phase" },
            { date: "2025-12-24
